<div class='row'>
  <div class='col-lg-12'>
    <h1 class="page-header">
      <%= t("labels.list_customers") %>
      <%= link_to I18n.t('helpers.links.new'), new_customer_path, class: 'btn btn-default not-visited', role: "button" %>
    </h1>
  </div>
</div>
<br/>

<%#= render "search_form" %>
<%= sort_link(@q, :devices_purchased_at, "Ordenar por #{t('activerecord.attributes.device.purchased_at')}") %>
<br/>
<br/>
<table class="table table-hover table-condensed table-responsive">
  <thead>
    <tr>
      <th><%= sort_link(@q, :name, t("activerecord.attributes.customer.name")) %></th>
      <th><%= sort_link(@q, :email, t("activerecord.attributes.customer.email")) %></th>
      <th><%= t("activerecord.attributes.customer.phone") %></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @customers.each do |customer| %>
      <tr>
        <td title='<%= customer.name %>'><%= link_to customer.name.truncate(15), customer_path(customer.id) %></td>
        <td title='<%= customer.email %>'><%= customer.email.truncate(12) %></td>
        <td><%= customer.complete_phone %></td>
        <td><%= link_to I18n.t('helpers.links.details'), customer_path(customer) %></td>
        <td><%= link_to I18n.t('helpers.links.edit'), edit_customer_path(customer) %></td>
        <td><%= link_to I18n.t('helpers.links.destroy'), customer_path(customer), method: :delete,
          data: { confirm: I18n.t('helpers.links.confirm') } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<div class='pull-right'>
  <%= will_paginate @customers, renderer: BootstrapPagination::Rails %>
</div>
